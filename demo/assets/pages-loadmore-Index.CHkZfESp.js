import{d as a,q as s,r as e,o as t,c as l,w as o,f as r,t as i,u,p as n,g as d,e as m,F as c,A as f,B as _,n as g,y as p,j as v,i as w,C as x,D as h,a as y,b as j,h as T,l as b}from"./index-Fj9ozFXB.js";import{w as C}from"./wui-divider.DT86YbTv.js";import{f as k,w as S,p as I,t as P,v as E,x as q,b as A,a as B}from"./page-wraper.D4oaE4iN.js";import{u as D}from"./useTranslate.DD004H4V.js";const F=A(a({name:"wui-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...k,state:String,loadingText:String,finishedText:String,errorText:String,loadingProps:Object},emits:["reload"],setup(a,{emit:x}){const h=s((()=>{const a=P(y.loadingProps)?E(y.loadingProps,q):{};return a.customClass=`wui-loadmore__loading ${a.customClass||""}`,a})),y=a,j=x,{translate:T}=D("loadmore"),b=e(null);function k(){"error"===y.state&&(b.value="loading",j("reload"))}return(a,s)=>{const e=v,x=w;return t(),l(x,{class:g(["wui-loadmore",a.customClass]),style:p(a.customStyle),onClick:k},{default:o((()=>["finished"===a.state?(t(),l(C,{key:0},{default:o((()=>[r(i(a.finishedText||u(T)("finished")),1)])),_:1})):n("",!0),"error"===a.state?(t(),d(c,{key:1},[m(e,{class:"wui-loadmore__text"},{default:o((()=>[r(i(a.errorText||u(T)("error")),1)])),_:1}),m(e,{class:"wui-loadmore__text is-light"},{default:o((()=>[r(i(u(T)("retry")),1)])),_:1}),m(S,{name:"refresh","custom-class":"wui-loadmore__refresh"})],64)):n("",!0),"loading"===a.state?(t(),d(c,{key:2},[m(I,f(_(h.value)),null,16),m(e,{class:"wui-loadmore__text"},{default:o((()=>[r(i(a.loadingText||u(T)("loading")),1)])),_:1})],64)):n("",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-37719451"]]),G=A(a({__name:"Index",setup(a){const s=e("loading"),u=e(0),n=e(60);function f(){setTimeout((()=>{u.value=u.value+15,s.value="loading"}),200)}return x((()=>{45===u.value?s.value="error":u.value<n.value?f():u.value===n.value&&(s.value="finished")})),h((()=>{f()})),(a,e)=>{const n=b,_=w,g=y(j("wui-loadmore"),F),p=y(j("page-wraper"),B);return t(),l(p,null,{default:o((()=>[m(_,{class:"container"},{default:o((()=>[(t(!0),d(c,null,T(u.value,(a=>(t(),l(_,{key:a,class:"list-item"},{default:o((()=>[m(n,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),m(_,{class:"right"},{default:o((()=>[r("这是一条测试"+i(a+1),1)])),_:2},1024)])),_:2},1024)))),128)),m(g,{state:s.value,onReload:f},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-0975a9b1"]]);export{G as default};
