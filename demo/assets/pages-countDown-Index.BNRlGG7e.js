import{d as s,q as e,v as t,m as a,o,c as l,w as i,x as n,u,g as c,f as r,t as m,F as d,n as p,y as f,i as w,r as S,a as _,b as h,e as v,aa as H}from"./index-Fj9ozFXB.js";import{a3 as g,f as k,z as y,l as b,i as x,b as j,c as D,d as I,a as C}from"./page-wraper.D4oaE4iN.js";import{u as F}from"./useCountDown.MjtdXzUT.js";import{_ as $}from"./demo-block.e8_LucGp.js";import{_ as q,a as z}from"./wui-grid.Bk314pCp.js";import"./useRaf.BhNMXpsZ.js";import"./wui-badge.Dv0sSjha.js";import"./useChildren.CNqwIpWf.js";const A=j(s({name:"wui-count-down",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...k,time:y(Number),millisecond:b(!1),format:x("HH:mm:ss"),autoStart:b(!0)},emits:["change","finish"],setup(s,{expose:S,emit:_}){const h=s,v=_,{start:H,pause:k,reset:y,current:b}=F({time:h.time,millisecond:h.millisecond,onChange:s=>v("change",s),onFinish:()=>v("finish")}),x=e((()=>function(s,e){const{days:t}=e;let{hours:a,minutes:o,seconds:l,milliseconds:i}=e;if(s.includes("DD")?s=s.replace("DD",g(t)):a+=24*t,s.includes("HH")?s=s.replace("HH",g(a)):o+=60*a,s.includes("mm")?s=s.replace("mm",g(o)):l+=60*o,s.includes("ss")?s=s.replace("ss",g(l)):i+=1e3*l,s.includes("S")){const e=g(i,3);s=s.includes("SSS")?s.replace("SSS",e):s.includes("SS")?s.replace("SS",e.slice(0,2)):s.replace("S",e.charAt(0))}return s}(h.format,b.value))),j=()=>{y(h.time),h.autoStart&&H()};return t((()=>h.time),j,{immediate:!1}),a((()=>{j()})),S({start:H,pause:k,reset:j}),(s,e)=>{const t=w;return o(),l(t,{class:p(`wui-count-down ${s.customClass}`),style:f(s.customStyle)},{default:i((()=>[s.$slots.default?n(s.$slots,"default",{key:0,current:u(b)},void 0,!0):(o(),c(d,{key:1},[r(m(x.value),1)],64))])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-416a85e1"]]),G=j(s({__name:"Index",setup(s){const{show:e}=D(),t=S(108e6),a=S(),n=()=>{a.value.start()},u=()=>{a.value.pause()},c=()=>{a.value.reset()},r=()=>e("倒计时结束");return(s,e)=>{const d=_(h("wui-count-down"),A),p=_(h("demo-block"),$),f=_(h("wui-grid-item"),q),w=_(h("wui-grid"),z),S=_(h("wui-toast"),I),g=_(h("page-wraper"),C);return o(),l(g,null,{default:i((()=>[v(p,{title:"基本用法"},{default:i((()=>[v(d,{time:t.value},null,8,["time"])])),_:1}),v(p,{title:"自定义格式"},{default:i((()=>[v(d,{time:t.value,format:"DD 天 HH 时 mm 分 ss 秒"},null,8,["time"])])),_:1}),v(p,{title:"毫秒级渲染"},{default:i((()=>[v(d,{time:t.value,millisecond:"",format:"HH:mm:ss:SS"},null,8,["time"])])),_:1}),v(p,{title:"自定义样式"},{default:i((()=>[v(d,{time:t.value},{default:i((({current:s})=>[H("span",{class:"custom-count-down"},m(s.hours),1),H("span",{class:"custom-count-down-colon"},":"),H("span",{class:"custom-count-down"},m(s.minutes),1),H("span",{class:"custom-count-down-colon"},":"),H("span",{class:"custom-count-down"},m(s.seconds),1)])),_:1},8,["time"])])),_:1}),v(p,{title:"手动控制"},{default:i((()=>[v(d,{ref_key:"countDown",ref:a,time:3e3,millisecond:"","auto-start":!1,format:"ss:SSS",onFinish:r},null,512),v(w,{clickable:"",border:""},{default:i((()=>[v(f,{text:"开始",icon:"play-circle-stroke",onItemclick:n}),v(f,{text:"暂停",icon:"pause-circle",onItemclick:u}),v(f,{text:"重置",icon:"refresh",onItemclick:c})])),_:1})])),_:1}),v(S)])),_:1})}}}),[["__scopeId","data-v-e54ace43"]]);export{G as default};
