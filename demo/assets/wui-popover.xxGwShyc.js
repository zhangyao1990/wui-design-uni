import{d as e,P as o,r as s,v as t,m as l,S as a,U as n,o as u,c,w as i,e as r,n as p,f as m,t as d,p as _,g as v,h as y,F as w,u as f,y as k,x as C,V as b,L as h,i as S,j}from"./index-Fj9ozFXB.js";import{f as g,i as A,l as $,m as x,w as P,j as V,r as Q,b as T}from"./page-wraper.D4oaE4iN.js";import{u as F}from"./usePopover.D5O157WL.js";import{r as O,q as I,p as q,c as B}from"./clickoutside.DlTcP0Ck.js";const G=T(e({name:"wui-popover",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...g,customArrow:A(""),customPop:A(""),visibleArrow:$(!0),content:[String,Object],placement:A("bottom"),offset:x(0),useContentSlot:$(!1),disabled:$(!1),showClose:$(!1),modelValue:$(!1),mode:A("normal")},emits:["update:modelValue","menuclick","change","open","close"],setup(e,{expose:g,emit:A}){const $=e,x=A,T=o(I,null),G="popover",{proxy:H}=h(),L=F(),U=s(!1);function z(e){E(!1),x("menuclick",{item:$.content[e],index:e})}function D(){$.disabled||E(!U.value)}function E(e){U.value=e,x("update:modelValue",e)}return t((()=>$.content),(e=>{const{mode:o}=$;"normal"===o&&"string"!=typeof e?console.error("The value type must be a string type in normal mode"):"menu"!==o||Q(e)||console.error("The value type must be a Array type in menu mode")})),t((()=>$.placement),(()=>{L.init($.placement,$.visibleArrow,G)})),t((()=>$.modelValue),(e=>{U.value=e})),t((()=>U.value),(e=>{e&&(L.control($.placement,$.offset),T&&T.closeOther?T.closeOther(H):B(H)),L.showStyle.value=e?"display: inline-block;":"display: none;",x("change",{show:e}),x(""+(e?"open":"close"))})),l((()=>{L.init($.placement,$.visibleArrow,G)})),a((()=>{T&&T.pushToQueue?T.pushToQueue(H):q(H),L.showStyle.value=U.value?"opacity: 1;":"opacity: 0;"})),n((()=>{T&&T.removeFromQueue?T.removeFromQueue(H):O(H)})),g({open:function(){E(!0)},close:function(){E(!1)}}),(e,o)=>{const s=S,t=j;return u(),c(s,{class:p(`wui-popover ${e.customClass}`),style:k(e.customStyle),id:"popover",onClick:b(f(L).noop,["stop"])},{default:i((()=>[r(s,{class:"wui-popover__pos wui-popover__hidden",id:"pos"},{default:i((()=>[r(s,{class:p(`wui-popover__container ${e.customPop}`)},{default:i((()=>[e.useContentSlot||"normal"!==e.mode?_("",!0):(u(),c(s,{key:0,class:"wui-popover__inner"},{default:i((()=>[m(d(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode||"object"!=typeof e.content?_("",!0):(u(),c(s,{key:1,class:"wui-popover__menu"},{default:i((()=>[(u(!0),v(w,null,y(e.content,((e,o)=>(u(),c(s,{key:o,class:"wui-popover__menu-inner",onClick:e=>z(o)},{default:i((()=>[e.iconClass?(u(),c(P,{key:0,name:e.iconClass,"custom-class":"wui-popover__icon"},null,8,["name"])):_("",!0),r(t,null,{default:i((()=>[m(d(e.content),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}))])),_:1},8,["class"])])),_:1}),r(V,{"custom-class":"wui-popover__pos","custom-style":f(L).popStyle.value,show:U.value,name:"fade",duration:200},{default:i((()=>[r(s,{class:p(`wui-popover__container ${e.customPop}`)},{default:i((()=>[$.visibleArrow?(u(),c(s,{key:0,class:p(`wui-popover__arrow ${f(L).arrowClass.value} ${e.customArrow}`),style:k(f(L).arrowStyle.value)},null,8,["class","style"])):_("",!0),e.useContentSlot||"normal"!==e.mode?_("",!0):(u(),c(s,{key:1,class:"wui-popover__inner"},{default:i((()=>[m(d(e.content),1)])),_:1})),e.useContentSlot||"menu"!==e.mode?C(e.$slots,"content",{key:3},void 0,!0):(u(),c(s,{key:2,class:"wui-popover__menu"},{default:i((()=>[(u(!0),v(w,null,y(e.content,((e,o)=>(u(),c(s,{key:o,class:"wui-popover__menu-inner",onClick:e=>z(o),style:k(0===o?"border-top: none":"")},{default:i((()=>["object"==typeof e&&e.iconClass?(u(),c(P,{key:0,name:e.iconClass,"custom-class":"wui-popover__icon"},null,8,["name"])):_("",!0),r(s,{style:{display:"inline-block"}},{default:i((()=>[m(d("object"==typeof e&&e.content?e.content:""),1)])),_:2},1024)])),_:2},1032,["onClick","style"])))),128))])),_:1}))])),_:3},8,["class"]),e.showClose?(u(),c(P,{key:0,name:"close","custom-class":"wui-popover__close-icon",onClick:D})):_("",!0)])),_:3},8,["custom-style","show"]),r(s,{onClick:D,class:"wui-popover__target",id:"target"},{default:i((()=>[C(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","style","onClick"])}}}),[["__scopeId","data-v-beb5a817"]]);export{G as _};
