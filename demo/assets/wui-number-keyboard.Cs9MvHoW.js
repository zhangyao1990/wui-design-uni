import{d as e,r as t,q as a,o as l,c as s,w as o,e as r,p as u,g as n,F as d,f as i,t as c,n as y,i as m,v as p,x,h as k,y as _,j as w}from"./index-Fj9ozFXB.js";import{i as b,y as f,l as h,p as v,w as g,b as K,f as T,m as S,k as I}from"./page-wraper.D4oaE4iN.js";import{u as V}from"./useTouch.BQUFjmn2.js";const C=K(e({name:"wui-key",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{type:b(""),text:f(""),wider:h(!1),large:h(!1),loading:h(!1)},emits:["press"],setup(e,{emit:p}){const x=e,k=p,_=V(),w=t(!1),b=a((()=>`wui-key ${x.large?"wui-key--large":""} ${"delete"===x.type?"wui-key--delete":""} ${"close"===x.type?"wui-key--close":""}`));function f(e){_.touchStart(e),w.value=!0}function h(e){_.touchMove(e),_.direction.value&&(w.value=!1)}function K(){w.value&&(w.value=!1,k("press",x.text,x.type))}return(e,t)=>{const a=m;return l(),s(a,{class:y("wui-key-wrapper "+(e.wider?"wui-key-wrapper--wider":"")),onTouchstart:f,onTouchmove:h,onTouchend:K},{default:o((()=>[r(a,{class:y(b.value)},{default:o((()=>[x.loading?(l(),s(v,{key:0,"custom-class":"wui-key__loading-icon"})):u("",!0),"delete"===e.type?(l(),n(d,{key:1},[e.text?(l(),n(d,{key:0},[i(c(e.text),1)],64)):(l(),s(g,{key:1,"custom-class":"wui-key__icon",name:"keyboard-delete",size:"22px"}))],64)):"extra"===e.type?(l(),n(d,{key:2},[e.text?(l(),n(d,{key:0},[i(c(e.text),1)],64)):(l(),s(g,{key:1,"custom-class":"wui-key__icon",name:"keyboard-collapse",size:"22px"}))],64)):(l(),n(d,{key:3},[i(c(e.text),1)],64))])),_:1},8,["class"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-ceda482c"]]),z=K(e({name:"wui-number-keyboard",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...T,visible:h(!1),modelValue:b(""),title:String,mode:b("default"),zIndex:S(100),maxlength:S(1/0),showDeleteKey:h(!0),randomKeyOrder:h(!1),closeText:String,deleteText:String,closeButtonLoading:h(!1),modal:h(!1),hideOnClickOutside:h(!0),lockScroll:h(!0),safeAreaInsetBottom:h(!0),extraKey:[String,Array]},emits:["update:visible","input","close","delete","update:modelValue"],setup(e,{emit:b}){const f=e,h=b,v=t(f.visible);p((()=>f.visible),(e=>{v.value=e}));const g=a((()=>"custom"===f.mode?function(){const e=S(),t=Array.isArray(f.extraKey)?f.extraKey:[f.extraKey];1===t.length?e.push({text:0,wider:!0},{text:t[0],type:"extra"}):2===t.length&&e.push({text:t[0],type:"extra"},{text:0},{text:t[1],type:"extra"});return e}():[...S(),{text:f.extraKey,type:"extra"},{text:0},{text:f.showDeleteKey?f.deleteText:"",type:f.showDeleteKey?"delete":""}])),K=a((()=>f.closeText&&"default"===f.mode)),T=a((()=>f.title||K.value));function S(){const e=Array.from({length:9},((e,t)=>({text:t+1})));return f.randomKeyOrder?function(e){const t=[...e];for(let a=t.length-1;a>0;a--){const e=Math.floor(Math.random()*(a+1));[t[a],t[e]]=[t[e],t[a]]}return t}(e):e}const V=()=>{h("close"),h("update:visible",!1)},z=(e,t)=>{if(""===e&&"extra"===t)return V();const a=f.modelValue;"delete"===t?(h("delete"),h("update:modelValue",a.slice(0,a.length-1))):"close"===t?V():a.length<+f.maxlength&&(h("input",e),h("update:modelValue",a+e))};return(e,t)=>{const a=w,p=m;return l(),s(I,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),position:"bottom","z-index":e.zIndex,"safe-area-inset-bottom":e.safeAreaInsetBottom,"modal-style":e.modal?"":"opacity: 0;",modal:e.hideOnClickOutside,lockScroll:e.lockScroll,onClickModal:V},{default:o((()=>[r(p,{class:y(`wui-number-keyboard ${e.customClass}`),style:_(e.customStyle)},{default:o((()=>[T.value?(l(),s(p,{key:0,class:"wui-number-keyboard__header"},{default:o((()=>[x(e.$slots,"title",{},(()=>[r(a,{class:"wui-number-keyboard__title"},{default:o((()=>[i(c(e.title),1)])),_:1})]),!0),K.value?(l(),s(p,{key:0,class:"wui-number-keyboard__close","hover-class":"wui-number-keyboard__close--hover",onClick:V},{default:o((()=>[r(a,null,{default:o((()=>[i(c(e.closeText),1)])),_:1})])),_:1})):u("",!0)])),_:3})):u("",!0),r(p,{class:"wui-number-keyboard__body"},{default:o((()=>[r(p,{class:"wui-number-keyboard__keys"},{default:o((()=>[(l(!0),n(d,null,k(g.value,(e=>(l(),s(C,{key:e.text,text:e.text,type:e.type,wider:e.wider,onPress:z},null,8,["text","type","wider"])))),128))])),_:1}),"custom"===e.mode?(l(),s(p,{key:0,class:"wui-number-keyboard__sidebar"},{default:o((()=>[e.showDeleteKey?(l(),s(C,{key:0,large:"",text:e.deleteText,type:"delete",onPress:z},null,8,["text"])):u("",!0),r(C,{large:"",text:e.closeText,type:"close",loading:e.closeButtonLoading,onPress:z},null,8,["text","loading"])])),_:1})):u("",!0)])),_:1})])),_:3},8,["class","style"])])),_:3},8,["modelValue","z-index","safe-area-inset-bottom","modal-style","modal","lockScroll"])}}}),[["__scopeId","data-v-413cf955"]]);export{z as _};
