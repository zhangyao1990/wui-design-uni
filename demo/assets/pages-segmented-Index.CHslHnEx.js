import{f as a,z as e,l as s,i as t,B as l,s as i,J as n,h as o,o as u,b as d,d as r,a as p}from"./page-wraper.D4oaE4iN.js";import{d as v,X as c,q as m,v as f,m as b,o as _,c as g,w as y,g as h,h as w,F as x,e as I,n as k,y as j,i as z,u as S,x as $,f as C,t as U,aq as q,L as N,r as X,a as A,b as B,l as F}from"./index-Fj9ozFXB.js";import{_ as G}from"./demo-block.e8_LucGp.js";const H=d(v({name:"wui-segmented",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...a,value:e([String,Number]),disabled:s(!1),size:t("middle"),options:{type:Array,required:!0,default:()=>[]},vibrateShort:s(!1)},emits:["update:value","change","click"],setup(a,{emit:e}){const s=a,t=e,d=c({activeIndex:0,activeStyle:""}),r=m((()=>s.disabled||!(!s.options[0]||!i(s.options[0]))&&s.options[0].disabled));f((()=>s.value),(()=>{X(),v(),s.vibrateShort&&q({})}),{immediate:!1});const{proxy:p}=N();function v(a=!0){n(".wui-segmented__item",!0,p).then((e=>{const s=e[d.activeIndex],t={position:"absolute",width:o(s.width),"z-index":0},l=e.slice(0,d.activeIndex).reduce(((a,e)=>a+Number(e.width)),0);l&&(t.transform=`translateX(${l}px)`),a&&(t.transition="all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1)"),d.activeStyle=u(t)}))}function X(){const a=s.options.findIndex((a=>(i(a)?a.value:a)==s.value));if(a>=0)d.activeIndex=a;else{const a=i(s.options[0])?s.options[0].value:s.options[0];t("update:value",a),t("change",i(s.options[0])?s.options[0]:{value:a})}}return b((()=>{X(),l((()=>{v(!1)}))})),(a,e)=>{const l=z;return _(),g(l,{class:k(`wui-segmented ${a.customClass}`),style:j(a.customStyle)},{default:y((()=>[(_(!0),h(x,null,w(a.options,((e,n)=>(_(),g(l,{class:k(`wui-segmented__item is-${a.size} ${d.activeIndex===n?"is-active":""} ${a.disabled||S(i)(e)&&e.disabled?"is-disabled":""}`),onClick:a=>function(a,e){if(s.disabled||i(a)&&a.disabled)return;const l=i(a)?a.value:a;d.activeIndex=e,v(),t("update:value",l),t("change",i(a)?a:{value:l}),t("click",i(a)?a:{value:l})}(e,n),key:n},{default:y((()=>[I(l,{class:"wui-segmented__item-label"},{default:y((()=>[a.$slots.label?$(a.$slots,"label",{key:0,option:S(i)(e)?e:{value:e}},void 0,!0):(_(),h(x,{key:1},[C(U(S(i)(e)?e.value:e),1)],64))])),_:2},1024)])),_:2},1032,["class","onClick"])))),128)),I(l,{class:k("wui-segmented__item--active "+(r.value?"is-disabled":"")),style:j(d.activeStyle)},null,8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-7db89848"]]),J=d(v({__name:"Index",setup(a){const e=X(["评论","点赞","贡献","打赏"]),s=X([{value:"李雷",disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wui-design-uni-assets/*/files/redpanda.jpg"}},{value:"韩梅梅",disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wui-design-uni-assets/*/files/capybara.jpg"}},{value:"林涛",disabled:!0,payload:{avatar:"https://registry.npmmirror.com/wui-design-uni-assets/*/files/panda.jpg"}},{value:"Tom",disabled:!1,payload:{avatar:"https://registry.npmmirror.com/wui-design-uni-assets/*/files/meng.jpg"}}]),t=X("简介"),l=X("详情"),i=X("评论"),n=X("打赏"),o=X("韩梅梅"),u=X("评论");function d(a){console.log(a)}return(a,v)=>{const c=A(B("wui-toast"),r),m=A(B("wui-segmented"),H),f=z,b=A(B("demo-block"),G),h=F,w=A(B("page-wraper"),p);return _(),g(f,null,{default:y((()=>[I(c),I(w,null,{default:y((()=>[I(b,{title:"大型分段器",transparent:""},{default:y((()=>[I(f,{class:"section"},{default:y((()=>[I(m,{options:e.value,value:t.value,"onUpdate:value":v[0]||(v[0]=a=>t.value=a),size:"large",onChange:d},null,8,["options","value"])])),_:1})])),_:1}),I(b,{title:"默认分段器",transparent:""},{default:y((()=>[I(f,{class:"section"},{default:y((()=>[I(m,{options:e.value,value:l.value,"onUpdate:value":v[1]||(v[1]=a=>l.value=a)},null,8,["options","value"])])),_:1})])),_:1}),I(b,{title:"小型分段器",transparent:""},{default:y((()=>[I(f,{class:"section"},{default:y((()=>[I(m,{options:e.value,value:i.value,"onUpdate:value":v[2]||(v[2]=a=>i.value=a),size:"small"},null,8,["options","value"])])),_:1})])),_:1}),I(b,{title:"带振动效果的分段器",transparent:""},{default:y((()=>[I(f,{class:"section"},{default:y((()=>[I(m,{options:e.value,value:n.value,"onUpdate:value":v[3]||(v[3]=a=>n.value=a),"vibrate-short":!0},null,8,["options","value"])])),_:1})])),_:1}),I(b,{title:"禁用分段器",transparent:""},{default:y((()=>[I(f,{class:"section"},{default:y((()=>[I(m,{options:e.value,value:u.value,"onUpdate:value":v[4]||(v[4]=a=>u.value=a),disabled:""},null,8,["options","value"])])),_:1})])),_:1}),I(b,{title:"自定义渲染分段器标签",transparent:""},{default:y((()=>[I(f,{class:"section"},{default:y((()=>[I(m,{options:s.value,value:o.value,"onUpdate:value":v[5]||(v[5]=a=>o.value=a),"vibrate-short":!0,onChange:d},{label:y((({option:a})=>[I(f,{class:"section-slot"},{default:y((()=>[I(h,{style:{"border-radius":"50%",width:"32px",height:"32px"},src:a.payload.avatar},null,8,["src"]),I(f,{class:"name"},{default:y((()=>[C(U(a.value),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["options","value"])])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-fc16b274"]]);export{J as default};
