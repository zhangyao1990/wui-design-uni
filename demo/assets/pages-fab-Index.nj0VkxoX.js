import{f as e,l as a,i as t,m as l,w as o,j as s,t as u,o as i,J as d,b as n,c,d as r,e as m,a as v}from"./page-wraper.D4oaE4iN.js";import{d as p,r as f,P as b,v as _,X as h,q as g,m as w,U as y,o as x,c as k,w as C,e as V,x as T,V as z,y as I,p as L,n as j,L as $,i as U,H as O,a as Q,b as F,g as H,f as X,u as q,F as Y}from"./index-Fj9ozFXB.js";import{_ as B,a as G}from"./wui-radio-group.BIfngUjM.js";import{_ as J}from"./demo-block.e8_LucGp.js";import{_ as P}from"./wui-button.CIriDmop.js";import{p as R,r as S,q as W,c as A,u as D}from"./clickoutside.DlTcP0Ck.js";import{u as E}from"./useRaf.BhNMXpsZ.js";import"./useChildren.CNqwIpWf.js";const K=n(p({name:"wui-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...e,active:a(!1),type:t("primary"),position:t("right-bottom"),direction:t("top"),disabled:a(!1),inactiveIcon:t("add"),activeIcon:t("close"),zIndex:l(99),draggable:a(!1),gap:{type:Object,default:()=>({})},expandable:a(!0)},emits:["update:active","click"],setup(e,{expose:a,emit:t}){const l=e,n=t,c=f(!1),r=f(!1),m=b(W,null),{proxy:v}=$();_((()=>l.active),(e=>{r.value=e}),{immediate:!0,deep:!0}),_((()=>r.value),(e=>{e&&(m&&m.closeOther?m.closeOther(v):A(v))}));const p=f(l.direction);_((()=>l.direction),(e=>p.value=e)),_((()=>l.position),(()=>Y()));const Q=f(0),F=f(0),H=h({width:0,height:0}),X=h({width:56,height:56}),q=h({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function Y(){const e=l.position,{minLeft:a,minTop:t,maxLeft:o,maxTop:s}=q;"left-top"===e?(Q.value=t,F.value=a):"right-top"===e?(Q.value=t,F.value=o):"left-bottom"===e?(Q.value=s,F.value=a):"right-bottom"===e&&(Q.value=s,F.value=o)}const B=h({x:0,y:0}),G=f(!1);function J(e){if(!1===l.draggable)return;const a=e.touches[0];B.x=a.clientX-F.value,B.y=a.clientY-Q.value,G.value=!1}function D(e){if(!1===l.draggable)return;const a=e.touches[0],{minLeft:t,minTop:o,maxLeft:s,maxTop:u}=q;let i=a.clientX-B.x,d=a.clientY-B.y;i<t?i=t:i>s&&(i=s),d<o?d=o:d>u&&(d=u),Q.value=d,F.value=i}function K(){if(!1===l.draggable)return;const e=H.width/2,a=F.value+X.width/2;G.value=!0,a<e?(F.value=q.minLeft,p.value="right"):(F.value=q.maxLeft,p.value="left")}const M=g((()=>{const e={top:Q.value+"px",left:F.value+"px",transition:G.value?"all ease 0.3s":"none"};return u(l.zIndex)&&(e["z-index"]=l.zIndex),`${i(e)};${l.customStyle}`}));function N(){l.disabled||(l.expandable?(r.value=!r.value,n("update:active",r.value)):n("click"))}return w((()=>{m&&m.pushToQueue?m.pushToQueue(v):R(v);const{start:e}=E((async()=>{await async function(){const e=O();try{const e=await d("#trigger",!1,v);X.width=e.width||56,X.height=e.height||56}catch(u){console.log(u)}const{top:a=16,left:t=16,right:o=16,bottom:s=16}=l.gap;H.width=e.windowWidth,H.height=e.windowTop+e.windowHeight,q.minTop=e.windowTop+a,q.minLeft=t,q.maxLeft=H.width-X.width-o,q.maxTop=H.height-X.height-s}(),Y(),c.value=!0}));e()})),y((()=>{m&&m.removeFromQueue?m.removeFromQueue(v):S(v)})),a({open:function(){r.value=!0,n("update:active",!0)},close:function(){r.value=!1,n("update:active",!1)}}),(e,a)=>{const t=U;return x(),k(t,{onTouchmove:z(D,["stop","prevent"]),onTouchstart:J,onTouchend:K,class:j(`wui-fab ${e.customClass}`),style:I(M.value),onClick:a[1]||(a[1]=z((()=>{}),["stop"]))},{default:C((()=>[V(t,{onClick:a[0]||(a[0]=z((()=>{}),["stop"])),style:I({visibility:c.value?"visible":"hidden"}),id:"trigger"},{default:C((()=>[e.$slots.trigger?T(e.$slots,"trigger",{key:0},void 0,!0):(x(),k(P,{key:1,onClick:N,"custom-class":"wui-fab__trigger",round:"",type:e.type,disabled:e.disabled},{default:C((()=>[V(o,{"custom-class":"wui-fab__icon",name:r.value?e.activeIcon:e.inactiveIcon},null,8,["name"])])),_:1},8,["type","disabled"]))])),_:3},8,["style"]),e.expandable?(x(),k(s,{key:0,"enter-class":`wui-fab__transition-enter--${p.value}`,"enter-active-class":"wui-fab__transition-enter-active","leave-to-class":`wui-fab__transition-leave-to--${p.value}`,"leave-active-class":"wui-fab__transition-leave-active","custom-class":`wui-fab__actions wui-fab__actions--${p.value}`,show:r.value,duration:300,name:""},{default:C((()=>[T(e.$slots,"default",{},void 0,!0)])),_:3},8,["enter-class","leave-to-class","custom-class","show"])):L("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-be85f3e3"]]),M=n(p({__name:"Index",setup(e){const{show:a}=c(),t=f(!1),l=f("primary"),s=f("left-bottom"),u=f("top"),i=f(!1),d=f(!1),n=f(!1),{closeOutside:p}=D();function b(){a("分享给朋友")}return(e,c)=>{const f=Q(F("wui-toast"),r),_=Q(F("wui-radio"),B),h=Q(F("wui-radio-group"),G),g=Q(F("demo-block"),J),w=Q(F("wui-switch"),m),y=U,T=Q(F("wui-button"),P),I=Q(F("wui-icon"),o),L=Q(F("wui-fab"),K),j=Q(F("page-wraper"),v);return x(),H(Y,null,[V(f),V(y,{class:"fab",onClick:q(p)},{default:C((()=>[V(j,null,{default:C((()=>[V(g,{title:"悬浮按钮主题色"},{default:C((()=>[V(h,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=e=>l.value=e),inline:"",shape:"dot"},{default:C((()=>[V(_,{value:"primary","custom-class":"custom-radio"},{default:C((()=>[X("主要按钮")])),_:1}),V(_,{value:"success","custom-class":"custom-radio"},{default:C((()=>[X("成功按钮")])),_:1}),V(_,{value:"warning","custom-class":"custom-radio"},{default:C((()=>[X("警告按钮")])),_:1}),V(_,{value:"error","custom-class":"custom-radio"},{default:C((()=>[X("危险按钮")])),_:1}),V(_,{value:"info","custom-class":"custom-radio"},{default:C((()=>[X("信息按钮")])),_:1})])),_:1},8,["modelValue"])])),_:1}),V(g,{title:"悬浮按钮位置"},{default:C((()=>[V(h,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=e=>s.value=e),inline:"",shape:"dot"},{default:C((()=>[V(_,{value:"left-top","custom-class":"custom-radio"},{default:C((()=>[X("左上")])),_:1}),V(_,{value:"right-top","custom-class":"custom-radio"},{default:C((()=>[X("右上")])),_:1}),V(_,{value:"left-bottom","custom-class":"custom-radio"},{default:C((()=>[X("左下")])),_:1}),V(_,{value:"right-bottom","custom-class":"custom-radio"},{default:C((()=>[X("右下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),V(g,{title:"菜单弹出方向"},{default:C((()=>[V(h,{modelValue:u.value,"onUpdate:modelValue":c[2]||(c[2]=e=>u.value=e),inline:"",shape:"dot"},{default:C((()=>[V(_,{value:"top","custom-class":"custom-radio"},{default:C((()=>[X("向上")])),_:1}),V(_,{value:"bottom","custom-class":"custom-radio"},{default:C((()=>[X("向下")])),_:1}),V(_,{value:"right","custom-class":"custom-radio"},{default:C((()=>[X("向右")])),_:1}),V(_,{value:"left","custom-class":"custom-radio"},{default:C((()=>[X("向左")])),_:1})])),_:1},8,["modelValue"])])),_:1}),V(g,{title:"禁用"},{default:C((()=>[V(y,{onClick:c[4]||(c[4]=z((()=>{}),["stop"]))},{default:C((()=>[V(w,{modelValue:i.value,"onUpdate:modelValue":c[3]||(c[3]=e=>i.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),V(g,{title:"可拖动"},{default:C((()=>[V(y,{onClick:c[6]||(c[6]=z((()=>{}),["stop"]))},{default:C((()=>[V(w,{modelValue:d.value,"onUpdate:modelValue":c[5]||(c[5]=e=>d.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),V(g,{title:"切换展示"},{default:C((()=>[V(y,{onClick:c[8]||(c[8]=z((()=>{}),["stop"]))},{default:C((()=>[V(T,{type:"primary",onClick:c[7]||(c[7]=e=>t.value=!t.value),round:""},{default:C((()=>[X("切换")])),_:1})])),_:1})])),_:1}),V(g,{title:"自定义触发器"},{default:C((()=>[V(y,{onClick:c[10]||(c[10]=z((()=>{}),["stop"]))},{default:C((()=>[V(w,{modelValue:n.value,"onUpdate:modelValue":c[9]||(c[9]=e=>n.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),n.value?(x(),k(L,{key:1,position:"left-bottom",draggable:d.value,expandable:!1},{trigger:C((()=>[V(T,{onClick:b,icon:"share",type:"error"},{default:C((()=>[X("分享给朋友")])),_:1})])),_:1},8,["draggable"])):(x(),k(L,{key:0,active:t.value,"onUpdate:active":c[15]||(c[15]=e=>t.value=e),disabled:i.value,type:l.value,position:s.value,direction:u.value,draggable:d.value,onClick:c[16]||(c[16]=e=>q(a)("我被点了"))},{default:C((()=>[V(T,{onClick:c[11]||(c[11]=e=>q(a)("一键三连")),disabled:i.value,"custom-class":"custom-button",type:"primary",round:""},{default:C((()=>[V(I,{name:"github-filled",size:"22px"})])),_:1},8,["disabled"]),V(T,{onClick:c[12]||(c[12]=e=>q(a)("我要收藏")),disabled:i.value,"custom-class":"custom-button",type:"success",round:""},{default:C((()=>[V(I,{name:"star",size:"22px"})])),_:1},8,["disabled"]),V(T,{onClick:c[13]||(c[13]=e=>q(a)("我要投币")),disabled:i.value,"custom-class":"custom-button",type:"error",round:""},{default:C((()=>[V(I,{name:"money-circle",size:"22px"})])),_:1},8,["disabled"]),V(T,{onClick:c[14]||(c[14]=e=>q(a)("我要点赞")),disabled:i.value,"custom-class":"custom-button",type:"warning",round:""},{default:C((()=>[V(I,{name:"thumb-up",size:"22px"})])),_:1},8,["disabled"])])),_:1},8,["active","disabled","type","position","direction","draggable"]))])),_:1})])),_:1},8,["onClick"])],64)}}}),[["__scopeId","data-v-b41ff658"]]);export{M as default};
